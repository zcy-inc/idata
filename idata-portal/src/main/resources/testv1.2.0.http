GET http://localhost:8080/api/p1/ops/dashboard/rank/timeConsume?recentDays=7
#GET http://idata-staging.cai-inc.com/api/p1/ops/dashboard/rank/timeConsume?recentDays=1
#GET http://idata.cai-inc.com/api/p1/ops/dashboard/rank/timeConsume?recentDays=1
Accept: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; redirect=; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5Y2g5Lm-IiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjEyOCwiYXZhdGFyIjoiTlVMTCIsImV4cCI6MTY1MjI1MTQ1NiwiZW1haWwiOiJ6aGFucWlhbkBjYWktaW5jLmNvbSIsInVzZXJuYW1lIjoiemhhbnFpYW4ifQ.kKZ9Jivviwq64EJXD8X076RPxdYriDDYxipVNDC6j0LDAfYv2T2MZ2UzHls2VNta4T4-Yxoxdr9YDcQRj7pdJw

###
POST http://localhost:8080/api/p1/dev/jobs/16/environments/stag/configs
Content-Type: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; redirect=; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5YyX56yZIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjE4LCJhdmF0YXIiOiJOVUxMIiwiZXhwIjoxNjQ5NDczODMzLCJlbWFpbCI6InpoYW5xaWFuQGNhaS1pbmMuY29tIiwidXNlcm5hbWUiOiJ6aGFucWlhbiJ9.zEFVzW6DiuUN5SwjGUkUpKlYMAE9UxB9QB62JgF6SA8TCqdemxbcsLWvR2WxcPsXYg-4Dlu-z6m8g3KM4F_ogg

{"executeConfig":{"schDryRun":0,"schDagId":1,"execQueue":"root.offline","schTimeOut":0,"schRerunMode":"never","execWarnLevel":"ALARM_LEVEL_LOW:ENUM_VALUE","schPriority":1,"execEngine":"SPARK","execDriverMem":1,"execWorkerMem":1,"execCores":2,"jobId":16,"environment":"stag"},"dependencies":[],"output":{"jobId":16,"environment":"stag"}}

###
GET http://idata.cai-inc.com/api/p0/job/execute-detail?env=stag&jobId=2695&jobVersion=9
Accept: application/json


###
GET http://localhost:8080/api/p0/job/execute-detail?env=prod&jobId=3107
Accept: application/json

###
GET http://idata.cai-inc.com/api/p0/job/execute-detail?env=prod&jobId=3107
Accept: application/json

###
GET http://localhost:8080/api/p1/das/dbNames?dataSourceId=361
Accept: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NDkzODIxMjMsImlzcyI6InpoYW5xaWFuIiwidXNlcmlkIjoiNjAyMjEyMDQ4IiwidXNlck5hbWUiOiJ6aGFucWlhbiIsIm5pY2tOYW1lIjoi5YyX56yZIiwicmVhbE5hbWUiOiLljaDkub4iLCJtYWlsIjoiemhhbnFpYW5AY2FpLWluYy5jb20iLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJkZXBhcnRtZW50IjpbMzgwNDE4NDg5XSwiZGVwYXJ0bWVudHMiOlsiSURhdGEiXSwiQWxsUGF0aCI6WyJJRGF0YSzmlbDmja7lubPlj7As56CU5Y-R6YOoLOaUv-mHh-S6keaciemZkOWFrOWPuCJdLCJBbGxQYXRoSWRzIjpbWzM4MDQxODQ4OSw5OTI4OTE2Miw0MjY2NDY5LDFdXSwiaXNMZWFkZXIiOmZhbHNlLCJwb3NpdGlvbiI6IiIsImF2YXRhciI6IiJ9.rPtelbkSDsYB014pjy6Znm75AWjNE-zvGH4NcvtyD2g; __sso_token__=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NDkzODIxMjMsImlzcyI6InpoYW5xaWFuIiwidXNlcmlkIjoiNjAyMjEyMDQ4IiwidXNlck5hbWUiOiJ6aGFucWlhbiIsIm5pY2tOYW1lIjoi5YyX56yZIiwicmVhbE5hbWUiOiLljaDkub4iLCJtYWlsIjoiemhhbnFpYW5AY2FpLWluYy5jb20iLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJkZXBhcnRtZW50IjpbMzgwNDE4NDg5XSwiZGVwYXJ0bWVudHMiOlsiSURhdGEiXSwiQWxsUGF0aCI6WyJJRGF0YSzmlbDmja7lubPlj7As56CU5Y-R6YOoLOaUv-mHh-S6keaciemZkOWFrOWPuCJdLCJBbGxQYXRoSWRzIjpbWzM4MDQxODQ4OSw5OTI4OTE2Miw0MjY2NDY5LDFdXSwiaXNMZWFkZXIiOmZhbHNlLCJwb3NpdGlvbiI6IiIsImF2YXRhciI6IiJ9.rPtelbkSDsYB014pjy6Znm75AWjNE-zvGH4NcvtyD2g; __sso_user__=zhanqian; __sso_department__=IData; __sso_realName__=%E5%8D%A0%E4%B9%BE; __sso_nickName__=%E5%8C%97%E7%AC%99; redirect=; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5YyX56yZIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjE4LCJhdmF0YXIiOiJOVUxMIiwiZXhwIjoxNjQ5MzgyNDczLCJlbWFpbCI6InpoYW5xaWFuQGNhaS1pbmMuY29tIiwidXNlcm5hbWUiOiJ6aGFucWlhbiJ9.7GGxc8Wgtyx_OXLaL2WzMIsvBRPRSnR-Y_4PcY9--A5lj5_cLGPABt02b26FVNP7MztnTVWl3N_bk3GC6RyEUw

###
POST http://idata.cai-inc.com/api/p1/dev/jobs/di/generate/merge-sql
Content-Type: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5YyX56yZIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjE4LCJhdmF0YXIiOiJOVUxMIiwiZXhwIjoxNjQ5MzEzMTg4LCJlbWFpbCI6InpoYW5xaWFuQGNhaS1pbmMuY29tIiwidXNlcm5hbWUiOiJ6aGFucWlhbiJ9.G9ZkPNlV25GwUe7Xjl1AC0vXSGE0pgHTw7r2doySLmmRW4DSwrG9UEDJNAc6mqL009CEgV7nGlARFGd1HJ9VYw

{"destTable":"tmp.target_table","srcReadMode":"incremental","selectColumns":"id,name","keyColumns":"","sourceTable":"admin_department_purchaser_organization[1-2]","dataSourceType":"mysql"}
###
POST http://localhost:8080/api/p1/dev/jobs/433/di/contents
Content-Type: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; redirect=; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5YyX56yZIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjE4LCJhdmF0YXIiOiJOVUxMIiwiZXhwIjoxNjQ5NDczODMzLCJlbWFpbCI6InpoYW5xaWFuQGNhaS1pbmMuY29tIiwidXNlcm5hbWUiOiJ6aGFucWlhbiJ9.zEFVzW6DiuUN5SwjGUkUpKlYMAE9UxB9QB62JgF6SA8TCqdemxbcsLWvR2WxcPsXYg-4Dlu-z6m8g3KM4F_ogg

{"configMode":2,"srcDataSourceType":"mysql","srcDataSourceId":1018,"srcTables":"credit_evaluate_t","srcReadFilter":"update_at >= '${dt}' and update_at < CURRENT_DATE","srcReadShardKey":"id","srcShardingNum":1,"srcReadMode":"incremental","destDataSourceType":"hive","destDataSourceId":1036,"destTable":"ods.ods_db_credit_credit_evaluate_t","destBeforeWrite":"","destAfterWrite":"","destWriteMode":"append","scriptSelectColumns":"id,app,evaluate_id,evaluater,evaluate_org_id,evaluate_org_name,evaluated_id,Evaluateder,evaluated_org_id,evaluated_org_name,biz_id,sub_biz_id,score,content,is_first,attach_type,is_valid,is_processed,create_at,update_at,rule_id,parent_id,status,rule_type,rule_version,end_time,message_ext,module_type,business_dimension_1,business_dimension_2,business_dimension_3,classified,industry_code,district_code,instance_code","scriptKeyColumns":"id","scriptMergeSqlParamDto":{"recentDays":3},"scriptMergeSql":"\nalter table src.ods_db_credit_credit_evaluate_t_pt drop if exists partition(pt<'${day-3d}');\n\ninsert overwrite table src.ods_db_credit_credit_evaluate_t_pt partition(pt='${day}' )\nselect t1.id\n,t1.app\n,t1.evaluate_id\n,t1.evaluater\n,t1.evaluate_org_id\n,t1.evaluate_org_name\n,t1.evaluated_id\n,t1.Evaluateder\n,t1.evaluated_org_id\n,t1.evaluated_org_name\n,t1.biz_id\n,t1.sub_biz_id\n,t1.score\n,t1.content\n,t1.is_first\n,t1.attach_type\n,t1.is_valid\n,t1.is_processed\n,t1.create_at\n,t1.update_at\n,t1.rule_id\n,t1.parent_id\n,t1.status\n,t1.rule_type\n,t1.rule_version\n,t1.end_time\n,t1.message_ext\n,t1.module_type\n,t1.business_dimension_1\n,t1.business_dimension_2\n,t1.business_dimension_3\n,t1.classified\n,t1.industry_code\n,t1.district_code\n,t1.instance_code \nfrom\n(\nselect id, app, evaluate_id, evaluater, evaluate_org_id, evaluate_org_name, evaluated_id, Evaluateder, evaluated_org_id, evaluated_org_name, biz_id, sub_biz_id, score, content, is_first, attach_type, is_valid, is_processed, create_at, update_at, rule_id, parent_id, status, rule_type, rule_version, end_time, message_ext, module_type, business_dimension_1, business_dimension_2, business_dimension_3, classified, industry_code, district_code, instance_code \nfrom src.ods_db_credit_credit_evaluate_t_pt where pt='${day-1d}'\n) t1\nleft join\n(\nselect id, app, evaluate_id, evaluater, evaluate_org_id, evaluate_org_name, evaluated_id, Evaluateder, evaluated_org_id, evaluated_org_name, biz_id, sub_biz_id, score, content, is_first, attach_type, is_valid, is_processed, create_at, update_at, rule_id, parent_id, status, rule_type, rule_version, end_time, message_ext, module_type, business_dimension_1, business_dimension_2, business_dimension_3, classified, industry_code, district_code, instance_code \nfrom ods.ods_db_credit_credit_evaluate_t\n) t2\non t1.id=t2.id \nwhere t2.id is null\nunion all\nselect id, app, evaluate_id, evaluater, evaluate_org_id, evaluate_org_name, evaluated_id, Evaluateder, evaluated_org_id, evaluated_org_name, biz_id, sub_biz_id, score, content, is_first, attach_type, is_valid, is_processed, create_at, update_at, rule_id, parent_id, status, rule_type, rule_version, end_time, message_ext, module_type, business_dimension_1, business_dimension_2, business_dimension_3, classified, industry_code, district_code, instance_code \nfrom ods.ods_db_credit_credit_evaluate_t;\n\ninsert overwrite table ods.ods_db_credit_credit_evaluate_t \nselect id, app, evaluate_id, evaluater, evaluate_org_id, evaluate_org_name, evaluated_id, Evaluateder, evaluated_org_id, evaluated_org_name, biz_id, sub_biz_id, score, content, is_first, attach_type, is_valid, is_processed, create_at, update_at, rule_id, parent_id, status, rule_type, rule_version, end_time, message_ext, module_type, business_dimension_1, business_dimension_2, business_dimension_3, classified, industry_code, district_code, instance_code \nfrom src.ods_db_credit_credit_evaluate_t_pt where pt='${day}';","jobId":433,"id":1945,"version":5,"contentHash":"","srcCols":[],"destCols":[]}


###
POST http://idata.cai-inc.com/api//p0/dev/spark/addDatabaseEnv?request={"sql":"select * from ods.ssss","env":"stag"}
Content-Type: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5Y2g5Lm-IiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjEyOCwiYXZhdGFyIjoiTlVMTCIsImV4cCI6MTY0ODk1MTY1NiwiZW1haWwiOiJ6aGFucWlhbkBjYWktaW5jLmNvbSIsInVzZXJuYW1lIjoiemhhbnFpYW4ifQ.8qDrCyw2UZXFyyeUcRzW6UkX7pCq180gkT9vdarRAflNAAHCCA0MFT5w7ZCUlq8cDD7aWOpGuHqOsoZaKPr78w; _gid=GA1.2.1451389939.1648879952

{"sql":"select * from ods.ssss","env":"stag"}

###
GET http://idata.cai-inc.com/zcy/api/v1/idata/jobDetails?jobId=2858&env=prod
Accept: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5Y2g5Lm-IiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjEyOCwiYXZhdGFyIjoiTlVMTCIsImV4cCI6MTY0ODk1MTY1NiwiZW1haWwiOiJ6aGFucWlhbkBjYWktaW5jLmNvbSIsInVzZXJuYW1lIjoiemhhbnFpYW4ifQ.8qDrCyw2UZXFyyeUcRzW6UkX7pCq180gkT9vdarRAflNAAHCCA0MFT5w7ZCUlq8cDD7aWOpGuHqOsoZaKPr78w; _gid=GA1.2.1451389939.1648879952

###
GET http://idata.cai-inc.com/api/p0/job/execute-detail?jobId=2324&env=prod
Accept: application/json

###
GET http://localhost:8080/api/p0/job/execute-detail?jobId=2621&env=prod
Accept: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5YyX56yZIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjE4LCJhdmF0YXIiOiJOVUxMIiwiZXhwIjoxNjQ4MDE1MjQ4LCJlbWFpbCI6InpoYW5xaWFuQGNhaS1pbmMuY29tIiwidXNlcm5hbWUiOiJ6aGFucWlhbiJ9.W5IlI5rmYKpaEXca5ADG3AVTO_vOkDEBGJk2Hfp4Z6elJkqd7HHUO1J5FKgF1ljK-MHvpOOYXc9j302gDg-8_w

###

GET http://localhost:8080/api/p0/job/execute-detail?jobId=47&env=stag
Accept: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5Y2g5Lm-IiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjEyOCwiYXZhdGFyIjoiTlVMTCIsImV4cCI6MTY0ODk1MTY1NiwiZW1haWwiOiJ6aGFucWlhbkBjYWktaW5jLmNvbSIsInVzZXJuYW1lIjoiemhhbnFpYW4ifQ.8qDrCyw2UZXFyyeUcRzW6UkX7pCq180gkT9vdarRAflNAAHCCA0MFT5w7ZCUlq8cDD7aWOpGuHqOsoZaKPr78w; _gid=GA1.2.1451389939.1648879952



### migrate   folder/function/job/model
GET http://idata.cai-inc.com/api/p0/job/execute-detail?env=stag&jobId=2508
Content-Type: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5YyX56yZIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjE4LCJhdmF0YXIiOiJOVUxMIiwiZXhwIjoxNjQ5MzEzMTg4LCJlbWFpbCI6InpoYW5xaWFuQGNhaS1pbmMuY29tIiwidXNlcm5hbWUiOiJ6aGFucWlhbiJ9.G9ZkPNlV25GwUe7Xjl1AC0vXSGE0pgHTw7r2doySLmmRW4DSwrG9UEDJNAc6mqL009CEgV7nGlARFGd1HJ9VYw

###
GET http://localhost:8080/api/p0/job/execute-detail?env=prod&jobId=2508
Content-Type: application/json
Cookie: _zcy_log_client_uuid=53bfb4f0-45e6-11ec-9d71-57b6b6ff67b3; _ga=GA1.2.1266048430.1640225432; Authorization=eyJhbGciOiJIUzUxMiJ9.eyJyZWFsTmFtZSI6IuWNoOS5viIsIm5pY2tuYW1lIjoi5YyX56yZIiwibW9iaWxlIjoiMTg2NTc5NzA2ODUiLCJlbXBsb3llZUlkIjoiQzAxMDMzIiwiaWQiOjE4LCJhdmF0YXIiOiJOVUxMIiwiZXhwIjoxNjQ5MzEzMTg4LCJlbWFpbCI6InpoYW5xaWFuQGNhaS1pbmMuY29tIiwidXNlcm5hbWUiOiJ6aGFucWlhbiJ9.G9ZkPNlV25GwUe7Xjl1AC0vXSGE0pgHTw7r2doySLmmRW4DSwrG9UEDJNAc6mqL009CEgV7nGlARFGd1HJ9VYw

